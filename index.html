<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script>
      var chapter = {
        "1": "1sxT6mJoszlYE3MtUcVQQhQmvy60Tv5kD",
        "19": "1HKn4_XpHBbUzxeGZYVnCd_XQvt2-xd_t"
      };
      window.onload = () => {
        if (location.search) {
          let queryString = location.search.substr(1);
          let argsArray = queryString.match(RegExp(`([\\w]+=?(.*?)|[\\w]+)(&|$)`, "g")) || [];
          let argsObject = {};
          argsArray.forEach((i) => {
            let keyToValue = i.match(RegExp(`([\\w]+)=?(.*?)(&|$)`));
            argsObject[keyToValue[1]] = keyToValue[2];
          });

          if (!argsObject["chapter"]) return;
          let authuser = argsObject["authuser"] ? `&authuser=${argsObject["authuser"]}` : "";
          let node = document.createElement("script");
          node.src = `https://drive.google.com/uc?id=${chapter[argsObject["chapter"]]}${authuser}`;
          node.onerror = () => {
            document.getElementById("loader").className = "exclamation"
            alert("maybe need authuser")
          };
          document.head.appendChild(node);
          document.body.innerHTML = `<div id="loader" class="loader"></div>`;
        }
      };
    </script>
    <style type="text/css" media="screen">
      body {
        font-family: sans-serif;
        background-color: black;
        color: #52596b;
        text-align: center;
        text-indent: 10px;
        border: thin #52596b;
      }
      a:hover {
        color: #6ff;
      }
      img {
        border: 0px;
      }
      .loader {
        margin-top: 2em;
        margin-left: auto;
        margin-right: auto;
        border: 0.8em solid #757575; /* Light grey */
        border-top: 0.8em solid #3498db; /* Blue */
        border-radius: 50%;
        width: 5em;
        height: 5em;
        animation: spin 1s linear infinite;
      }

      .exclamation, .exclamation::after {
        margin-top: 1em;
        color: yellow;
        font-size: 3em;
        content: "\0021";
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    please include chapter in url
  </body>
</html>
